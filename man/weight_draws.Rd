% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/weight_draws.R
\name{weight_draws}
\alias{weight_draws}
\alias{weight_draws.draws_matrix}
\alias{weight_draws.draws_array}
\alias{weight_draws.draws_df}
\alias{weight_draws.draws_list}
\alias{weight_draws.draws_rvar}
\title{Weight \code{draws} objects}
\usage{
weight_draws(x, weights, ...)

\method{weight_draws}{draws_matrix}(x, weights, log = FALSE, ...)

\method{weight_draws}{draws_array}(x, weights, log = FALSE, ...)

\method{weight_draws}{draws_df}(x, weights, log = FALSE, ...)

\method{weight_draws}{draws_list}(x, weights, log = FALSE, ...)

\method{weight_draws}{draws_rvar}(x, weights, log = FALSE, ...)
}
\arguments{
\item{x}{An \R object for which the methods are defined.}

\item{weights}{A vector of weights of length equal to the number of
draws in \code{x} (as obtained by method \code{\link{ndraws}}). Weights will be
internally stored on the log scale (in a variable called \code{.log_weight})
and will not be normalized, but normalized (non-log) weights can be returned
via the \code{\link{weights.draws}} method later.}

\item{...}{Arguments passed to individual methods (if applicable).}

\item{log}{Logical. Indicates if the weights passed via \code{weights} are on the
log scale already. Defaults to \code{FALSE}, that is, expecting \code{weights} to be on
the standard (non-log) scale.}
}
\value{
A \code{draws} object of the same class as \code{x}.
}
\description{
Add weights to \code{\link{draws}} objects, with one weight per draw, for use in
subsequent weighting operations. For reasons of numerical accuracy, weights
are stored in the form of unnormalized log-weights (in a variable
called \code{.log_weight}). See \code{\link{weights.draws}} for details how to extract weights
from \code{draws} objects.
}
\examples{
x <- example_draws()

# sample some random weights for illustration
wts <- rexp(ndraws(x))
head(wts)

# add weights
x <- weight_draws(x, weights = wts)

# extract weights
head(weights(x)) # defaults to normalized weights
head(weights(x, normalize=FALSE)) # recover original weights
head(weights(x, log=TRUE)) # get normalized log-weights

# add weights which are already on the log scale
log_wts <- log(wts)
head(log_wts)

x <- weight_draws(x, weights = log_wts, log = TRUE)
# extract weights
head(weights(x))
head(weights(x, log=TRUE, normalize = FALSE)) # recover original log_wts

}
\seealso{
\code{\link{weights.draws}}, \code{\link{resample_draws}}
}
